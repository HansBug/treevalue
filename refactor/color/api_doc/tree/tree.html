

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>treevalue.tree.tree &mdash; treevalue 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="treevalue.tree.func" href="func.html" />
    <link rel="prev" title="treevalue.tree.common" href="common.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> treevalue
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/main_idea/index.html">Main Idea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/basic_usage/index.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/advanced_usage/index.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/cli_usage/index.html">CLI Usage</a></li>
</ul>
<p><span class="caption-text">Best Practice</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../best_practice/numpy/index.html">Apply into Numpy</a></li>
</ul>
<p><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">treevalue.config</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">treevalue.tree</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common.html">treevalue.tree.common</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">treevalue.tree.tree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#treevalue">TreeValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jsonify">jsonify</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clone">clone</a></li>
<li class="toctree-l3"><a class="reference internal" href="#typetrans">typetrans</a></li>
<li class="toctree-l3"><a class="reference internal" href="#walk">walk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mapping">mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mask">mask</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter">filter_</a></li>
<li class="toctree-l3"><a class="reference internal" href="#union">union</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subside">subside</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rise">rise</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reduce">reduce_</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graphics">graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dump">dump</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dumps">dumps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load">load</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loads">loads</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="func.html">treevalue.tree.func</a></li>
<li class="toctree-l2"><a class="reference internal" href="general.html">treevalue.tree.general</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">treevalue.utils</a></li>
</ul>
<p><span class="caption-text">Contributor Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/architecture/index.html">Architecture</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">treevalue</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">treevalue.tree</a> &raquo;</li>
        
      <li>treevalue.tree.tree</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api_doc/tree/tree.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
    
    
  <section id="treevalue-tree-tree">
<h1>treevalue.tree.tree<a class="headerlink" href="#treevalue-tree-tree" title="Permalink to this headline">¶</a></h1>
<section id="treevalue">
<span id="apidoc-tree-tree-treevalue"></span><h2>TreeValue<a class="headerlink" href="#treevalue" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="treevalue.tree.tree.TreeValue">
<em class="property">class </em><code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">TreeValue</code><a class="headerlink" href="#treevalue.tree.tree.TreeValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Base framework of tree value. And if the fast functions and operators are what you need, please use <cite>FastTreeValue</cite> in <cite>treevalue.tree.general</cite>. The <cite>TreeValue</cite> class is a light-weight framework just for DIY.</p>
</dd>
</dl>
<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__bool__">
<code class="sig-name descname">__bool__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__bool__" title="Permalink to this definition">¶</a></dt>
<dd><p>self != 0</p>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__contains__">
<code class="sig-name descname">__contains__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Check if attribute is in this tree value.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>key (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>): Attribute name.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>exist (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): If attribute is in this tree value.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">t</span>  <span class="c1"># True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">t</span>  <span class="c1"># True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;c&#39;</span> <span class="ow">in</span> <span class="n">t</span>  <span class="c1"># False</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__delattr__">
<code class="sig-name descname">__delattr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__delattr__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Delete attribute from tree value.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>key (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>): Attribute name.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">t</span><span class="o">.</span><span class="n">a</span>    <span class="c1"># t will be TreeValue({&#39;b&#39;: 2, &#39;x&#39;: {&#39;c&#39;: 3, &#39;d&#39;: 4}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">c</span>  <span class="c1"># t will be TreeValue({&#39;b&#39;: 2, &#39;x&#39;: {&#39;d&#39;: 4}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Check the equality of two tree values.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>other (<a class="reference internal" href="#treevalue.tree.tree.TreeValue" title="treevalue.tree.tree.TreeValue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeValue</span></code></a>): Another tree value.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>equal (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Equality.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clone</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="n">t</span>                                                <span class="c1"># True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">==</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}})</span>      <span class="c1"># False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">==</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>      <span class="c1"># True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">==</span> <span class="n">FastTreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>  <span class="c1"># False (type not match)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__getattr__">
<code class="sig-name descname">__getattr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__getattr__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Get item from this tree value.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>key (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>): Attribute name.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>attr (:obj:): Target attribute value.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">a</span>    <span class="c1"># 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">b</span>    <span class="c1"># 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">c</span>  <span class="c1"># 3</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__getstate__">
<code class="sig-name descname">__getstate__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__getstate__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Serialize operation, can support <cite>pickle.dumps</cite>.</p>
</dd>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">treevalue</span> <span class="kn">import</span> <span class="n">TreeValue</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>  <span class="c1"># dump it to binary</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">bin_</span><span class="p">)</span>      <span class="c1">#  TreeValue({&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;x&#39;: {&#39;c&#39;: 3}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__hash__">
<code class="sig-name descname">__hash__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__hash__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Hash value of current object.</p>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>hash (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>): Hash code of current object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Constructor of <cite>TreeValue</cite>.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>data: (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Union[TreeStorage,</span> <span class="pre">'TreeValue',</span> <span class="pre">dict]</span></code>): Original data to init a tree value,                 can be a <cite>TreeStorage</cite>, <cite>TreeValue</cite> or dict.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># this is the tree:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &lt;root&gt; -+--&gt; a (1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#         +--&gt; b (2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#         +--&gt; x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#              +--&gt; c (3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#              +--&gt; d (4)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__iter__">
<code class="sig-name descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Get iterator of this tree value.</p>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>iter (<code class="xref py py-obj docutils literal notranslate"><span class="pre">iter</span></code>): Iterator for keys and values.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>The output will be:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="mi">3</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__len__">
<code class="sig-name descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__len__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Get count of the keys.</p>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>length (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>): Count of the keys.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>    <span class="c1"># 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># 2</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Get representation format of tree value.</p>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>repr (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>): Representation string.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">&lt;TreeValue 0x7f22681c69a0&gt;</span>
<span class="go">├── a --&gt; 1</span>
<span class="go">├── b --&gt; 2</span>
<span class="go">└── x --&gt; &lt;TreeValue 0x7f226629bc70&gt;</span>
<span class="go">    ├── c --&gt; 3</span>
<span class="go">    └── d --&gt; 4</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__setattr__">
<code class="sig-name descname">__setattr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__setattr__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Set sub node to this tree value.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>key (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>): Attribute name.</p></li>
<li><p>value (:obj:): Sub value.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>                 <span class="c1"># t will be TreeValue({&#39;a&#39;: 3, &#39;b&#39;: 2, &#39;x&#39;: {&#39;c&#39;: 3, &#39;d&#39;: 4}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>  <span class="c1"># t will be TreeValue({&#39;a&#39;: 3, &#39;b&#39;: {&#39;x&#39;: 1, &#39;y&#39;: 2}, &#39;x&#39;: {&#39;c&#39;: 3, &#39;d&#39;: 4}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__setstate__">
<code class="sig-name descname">__setstate__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__setstate__" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Deserialize operation, can support <cite>pickle.loads</cite>.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Tree</span></code>): Deserialize tree.</p></li>
</ul>
</dd>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">treevalue</span> <span class="kn">import</span> <span class="n">TreeValue</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>  <span class="c1"># dump it to binary</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">bin_</span><span class="p">)</span>      <span class="c1">#  TreeValue({&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;x&#39;: {&#39;c&#39;: 3}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="py method">
<dt id="treevalue.tree.tree.TreeValue._attr_extern">
<code class="sig-name descname">_attr_extern</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.TreeValue._attr_extern" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>External protected function for support the unfounded attributes. Default is raise a <cite>KeyError</cite>.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>key (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>): Attribute name.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>return (:obj:): Anything you like, </dt><dd><p>and if it is not able to validly return anything, just raise an exception here.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="jsonify">
<span id="apidoc-tree-tree-jsonify"></span><h2>jsonify<a class="headerlink" href="#jsonify" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.jsonify">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">jsonify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.jsonify" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Dump <cite>TreeValue</cite> object to json data.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<a class="reference internal" href="#treevalue.tree.tree.TreeValue" title="treevalue.tree.tree.TreeValue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeValue</span></code></a>): Tree value object or tree storage object.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>json (<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code>): Dumped json data.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonify</span><span class="p">(</span><span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}}))</span>  <span class="c1"># {&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;x&#39;: {&#39;c&#39;: 3, &#39;d&#39;: 4}}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="clone">
<span id="apidoc-tree-tree-clone"></span><h2>clone<a class="headerlink" href="#clone" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.clone">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">clone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">copy_value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.clone" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Create a fully clone of the given tree.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Tree value object</p></li>
<li><p>copy_value (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Union[None,</span> <span class="pre">bool,</span> <span class="pre">Callable,</span> <span class="pre">Any]</span></code>): Deep copy value or not,             default is <cite>None</cite> which means do not deep copy the values.             If deep copy is required, just set it to <cite>True</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Cloned tree value object.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clone</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># TreeValue({&#39;c&#39;: 3, &#39;d&#39;: 4})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="typetrans">
<span id="apidoc-tree-tree-typetrans"></span><h2>typetrans<a class="headerlink" href="#typetrans" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.typetrans">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">typetrans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">return_type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.typetrans" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Transform tree value object to another tree value type.         Attention that in this function, no copy will be made,         the original tree value and the transformed tree value are using the same space area.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<a class="reference internal" href="#treevalue.tree.tree.TreeValue" title="treevalue.tree.tree.TreeValue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeValue</span></code></a>): Tree value object</p></li>
<li><p>return_type (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Type[_TreeValue]</span></code>): Target tree value type</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Transformed tree value object.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">MyTreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">typetrans</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">TreeValue</span><span class="p">)</span>  <span class="c1"># TreeValue({&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;x&#39;: {&#39;c&#39;: 3, &#39;d&#39;: 4}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="walk">
<span id="apidoc-tree-tree-walk"></span><h2>walk<a class="headerlink" href="#walk" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.walk">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">walk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">include_nodes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.walk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Walk the values and nodes in the tree.
The order of walk is not promised, if you need the ordered walking result, just use function <code class="docutils literal notranslate"><span class="pre">sorted</span></code> at the outer side of <a class="reference internal" href="#treevalue.tree.tree.walk" title="treevalue.tree.tree.walk"><code class="xref py py-func docutils literal notranslate"><span class="pre">walk()</span></code></a>.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree: Tree value object to be walked.</p></li>
<li><dl class="simple">
<dt>include_nodes (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Not only the value nodes will be walked,</dt><dd><p>but the tree nodes as well.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>iter: Iterator to walk the given tree, contains 2 items, the 1st one is the full </dt><dd><p>path of the node, the 2nd one is the value.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="mapping">
<span id="apidoc-tree-tree-mapping"></span><h2>mapping<a class="headerlink" href="#mapping" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.mapping">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">mapping</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.mapping" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Do mapping on every value in this tree.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Tree value object</p></li>
<li><p>func (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Callable</span></code>): Function for mapping</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Mapped tree value object.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapping</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># TreeValue({&#39;a&#39;: 3, &#39;b&#39;: 4, &#39;x&#39;: {&#39;c&#39;: 5, &#39;d&#39;: 6}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapping</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>        <span class="c1"># TreeValue({&#39;a&#39;: 1, &#39;b&#39;: 1, &#39;x&#39;: {&#39;c&#39;: 1, &#39;d&#39;: 1}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapping</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">)</span>   <span class="c1"># TreeValue({&#39;a&#39;: (&#39;a&#39;,), &#39;b&#39;: (&#39;b&#39;,), &#39;x&#39;: {&#39;c&#39;: (&#39;x&#39;, &#39;c&#39;), &#39;d&#39;: (&#39;x&#39;, &#39;d&#39;)}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="mask">
<span id="apidoc-tree-tree-mask"></span><h2>mask<a class="headerlink" href="#mask" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.mask">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">mask</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">mask_</span></em>, <em class="sig-param"><span class="n">remove_empty</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.mask" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Filter the element in the tree with a mask</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p><cite>tree</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Tree value object</p></li>
<li><p><cite>mask_</cite> (<a class="reference internal" href="#treevalue.tree.tree.TreeValue" title="treevalue.tree.tree.TreeValue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeValue</span></code></a>): Tree value mask object</p></li>
<li><p><cite>remove_empty</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Remove empty tree node automatically, default is <cite>True</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Filtered tree value object.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}))</span>                    <span class="c1"># TreeValue({&#39;a&#39;: 1})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}}))</span>  <span class="c1"># TreeValue({&#39;a&#39;: 1, &#39;x&#39;: {&#39;c&#39;: 3}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="filter">
<span id="apidoc-tree-tree-filter"></span><h2>filter_<a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.filter_">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">filter_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">remove_empty</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.filter_" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Filter the element in the tree with a predict function.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Tree value object</p></li>
<li><p>func (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Callable</span></code>): Function for filtering</p></li>
<li><p>remove_empty (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Remove empty tree node automatically, default is <cite>True</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Filtered tree value object.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>                  <span class="c1"># TreeValue({&#39;a&#39;: 1, &#39;b&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>           <span class="c1"># TreeValue({&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;x&#39;: {}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>             <span class="c1"># TreeValue({&#39;a&#39;: 1, &#39;x&#39;: {&#39;c&#39;: 3}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">})</span>  <span class="c1"># TreeValue({&#39;b&#39;: 2, &#39;x&#39;: {&#39;c&#39;: 3, &#39;d&#39;: 4}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="union">
<span id="apidoc-tree-tree-union"></span><h2>union<a class="headerlink" href="#union" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.union">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">union</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">trees</span></em>, <em class="sig-param"><span class="n">return_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inherit</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.union" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Union tree values together.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>trees (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Tree value objects.</p></li>
<li><p>return_type (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[Type[_ClassType]]</span></code>): Return type of the wrapped function, default is <cite>TreeValue</cite>.</p></li>
<li><p>inherit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Allow inherit in wrapped function, default is <cite>True</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>result (<a class="reference internal" href="#treevalue.tree.tree.TreeValue" title="treevalue.tree.tree.TreeValue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeValue</span></code></a>): Unionised tree value.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tx</span> <span class="o">=</span> <span class="n">mapping</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">union</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">tx</span><span class="p">)</span>  <span class="c1"># TreeValue({&#39;a&#39;: (1, True), &#39;b&#39;: (2, False), &#39;x&#39;: {&#39;c&#39;: (3, True), &#39;d&#39;: (4, False)}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="subside">
<span id="apidoc-tree-tree-subside"></span><h2>subside<a class="headerlink" href="#subside" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.subside">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">subside</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">dict_</span></em>, <em class="sig-param"><span class="n">list_</span></em>, <em class="sig-param"><span class="n">tuple_</span></em>, <em class="sig-param"><span class="n">return_type</span></em>, <em class="sig-param"><span class="n">inherit</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.subside" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Drift down the structures (list, tuple, dict) down to the tree’s value.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>value (:obj:): Original value object, may be nested dict, list or tuple.</p></li>
<li><p><cite>dict_</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Enable dict subside, default is <cite>True</cite>.</p></li>
<li><p><cite>list_</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Enable list subside, default is <cite>True</cite>.</p></li>
<li><p><cite>tuple_</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Enable list subside, default is <cite>True</cite>.</p></li>
<li><p>return_type (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[Type[_ClassType]]</span></code>): Return type of the wrapped function,             will be auto detected when there is exactly one tree value type in this original value,             otherwise the default will be <cite>TreeValue</cite>.</p></li>
<li><p>inherit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Allow inherit in wrapped function, default is <cite>True</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>return (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Subsided tree value.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="s1">&#39;233&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">subside</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># tree should be --&gt; TreeValue({</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    &#39;a&#39;: raw({&#39;a&#39;: 1, &#39;k&#39;: &#39;233&#39;, &#39;x&#39;: {&#39;c&#39;: 3, &#39;d&#39;: [5, 7]}}),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    &#39;b&#39;: raw({&#39;a&#39;: 2, &#39;k&#39;: &#39;233&#39;, &#39;x&#39;: {&#39;c&#39;: 4, &#39;d&#39;: [6, 8]}}),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#}), all structures above the tree values are subsided to the bottom of the tree.</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="rise">
<span id="apidoc-tree-tree-rise"></span><h2>rise<a class="headerlink" href="#rise" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.rise">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">rise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">dict_</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">list_</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tuple_</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">template</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.rise" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Make the structure (dict, list, tuple) in value rise up to the top, above the tree value.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Tree value object</p></li>
<li><p><cite>dict_</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Enable dict rise, default is <cite>True</cite>.</p></li>
<li><p><cite>list_</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Enable list rise, default is <cite>True</cite>.</p></li>
<li><p><cite>tuple_</cite> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>): Enable list rise, default is <cite>True</cite>.</p></li>
<li><p>template (:obj:): Rising template, default is <cite>NO_RISE_TEMPLATE</cite>, which means auto detect.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>risen (:obj:): Risen value.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">raw</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}),</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">raw</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]})})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">rise</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># dt will be {&#39;a&#39;: &lt;TreeValue 1&gt;, &#39;b&#39;: [&lt;TreeValue 2&gt;, &lt;TreeValue 3&gt;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 1 will be TreeValue({&#39;x&#39;: [1, 2], &#39;y&#39;: [5, 6, 7]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 2 will be TreeValue({&#39;x&#39;: 2, &#39;y&#39;: 7})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 3 will be TreeValue({&#39;x&#39;: 3, &#39;y&#39;: 8})</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">raw</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}),</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">raw</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]})})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt2</span> <span class="o">=</span> <span class="n">rise</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># dt2 will be {&#39;a&#39;: [&lt;TreeValue 1&gt;, &lt;TreeValue 2&gt;], &#39;b&#39;: [&lt;TreeValue 3&gt;, &lt;TreeValue 4&gt;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 1 will be TreeValue({&#39;x&#39;: 1, &#39;y&#39;: 5})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 2 will be TreeValue({&#39;x&#39;: 2, &#39;y&#39;: 6})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 3 will be TreeValue({&#39;x&#39;: 2, &#39;y&#39;: 7})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 4 will be TreeValue({&#39;x&#39;: 3, &#39;y&#39;: 8})</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt3</span> <span class="o">=</span> <span class="n">rise</span><span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># dt3 will be {&#39;a&#39;: &lt;TreeValue 1&gt;, &#39;b&#39;: &lt;TreeValue 2&gt;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 1 will be TreeValue({&#39;x&#39;: [1, 2], &#39;y&#39;: [5, 6]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TreeValue 2 will be TreeValue({&#39;x&#39;: [2, 3], &#39;y&#39;: [7, 8]})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="reduce">
<span id="apidoc-tree-tree-reduce"></span><h2>reduce_<a class="headerlink" href="#reduce" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.reduce_">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">reduce_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#treevalue.tree.tree.reduce_" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview</dt><dd><p>Reduce the tree to value.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeValue</span></code>): Tree value object</p></li>
<li><p>func (:obj:): Function for reducing</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>result (:obj:): Reduce result</p></li>
</ul>
</dd>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reduce_</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>  <span class="c1"># 10, 1 + 2 + (3 + 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reduce_</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>  <span class="c1"># 24, 1 * 2 * (3 * 4)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="graphics">
<span id="apidoc-tree-tree-graphics"></span><h2>graphics<a class="headerlink" href="#graphics" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.graphics">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">graphics</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">trees</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cfg</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dup_value</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>bool<span class="p">, </span>Callable<span class="p">, </span>type<span class="p">, </span>Tuple<span class="p">[</span>Type<span class="p">, </span><span class="p">…</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">repr_gen</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">node_cfg_gen</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">edge_cfg_gen</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; graphviz.graphs.Digraph<a class="reference internal" href="../../_modules/treevalue/tree/tree/graph.html#graphics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#treevalue.tree.tree.graphics" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Draw graph by tree values.
Multiple tree values is supported.</p>
</dd>
<dt>Args:</dt><dd><ul class="simple">
<li><p>trees: Given tree values, tuples of <cite>Tuple[TreeValue, str]</cite> or tree values are both accepted.</p></li>
<li><p>title (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[str]</span></code>): Title of the graph.</p></li>
<li><p>cfg (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[dict]</span></code>): Configuration of the graph.</p></li>
<li><p>dup_value (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Union[bool,</span> <span class="pre">Callable,</span> <span class="pre">type,</span> <span class="pre">Tuple[Type,</span> <span class="pre">...]]</span></code>): Value duplicator,             set <cite>True</cite> to make value with same id use the same node in graph,             you can also define your own node id algorithm by this argument.             Default is <cite>False</cite> which means do not use value duplicator.</p></li>
<li><p>repr_gen (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[Callable]</span></code>): Representation format generator,             default is <cite>None</cite> which means using <cite>repr</cite> function.</p></li>
<li><p>node_cfg_gen (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[Callable]</span></code>): Node configuration generator,             default is <cite>None</cite> which means no configuration.</p></li>
<li><p>edge_cfg_gen (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[Callable]</span></code>): Edge configuration generator,             default is <cite>None</cite> which means no configuration.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>graph (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Digraph</span></code>): Generated graph of tree values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Here is an example of <code class="docutils literal notranslate"><span class="pre">graphics</span></code> function. The source code is</p>
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">treevalue</span> <span class="kn">import</span> <span class="n">FastTreeValue</span><span class="p">,</span> <span class="n">graphics</span><span class="p">,</span> <span class="n">TreeValue</span>


<span class="k">class</span> <span class="nc">MyFastTreeValue</span><span class="p">(</span><span class="n">FastTreeValue</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">MyFastTreeValue</span><span class="p">({</span>
        <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]),</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
        <span class="p">},</span>
    <span class="p">})</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">TreeValue</span><span class="p">({</span><span class="s1">&#39;ppp&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="p">}})</span>

    <span class="n">g</span> <span class="o">=</span> <span class="n">graphics</span><span class="p">(</span>
        <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">),</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a demo of 2 trees.&quot;</span><span class="p">,</span>
        <span class="n">cfg</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bgcolor&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffffff00&#39;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;graphics.dat.gv&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
</pre></div></td></tr></table></div>
</div>
<p>The generated graphviz source code should be</p>
<div class="highlight-text notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span>// This is a demo of 2 trees.
digraph this_is_a_demo_of_2_trees {
	graph [bgcolor=&quot;#ffffff00&quot; label=&quot;This is a demo of 2 trees.&quot;]
	node_7f6c1a4afaf0 [label=t color=&quot;#3eb24899&quot; fillcolor=&quot;#73ff7e99&quot; fontcolor=&quot;#003304ff&quot; fontname=&quot;Times-Roman bold&quot; penwidth=3 shape=diamond style=filled]
	node_7f6c19c03700 [label=t2 color=&quot;#5b3eb299&quot; fillcolor=&quot;#9673ff99&quot; fontcolor=&quot;#0d0033ff&quot; fontname=&quot;Times-Roman bold&quot; penwidth=3 shape=diamond style=filled]
	value__node_7f6c1a4afaf0__a [label=1 color=&quot;#3eb24800&quot; fillcolor=&quot;#73ff7e99&quot; fontcolor=&quot;#003304ff&quot; fontname=&quot;Times-Roman&quot; penwidth=1.5 shape=box style=filled]
	node_7f6c1a4afaf0 -&gt; value__node_7f6c1a4afaf0__a [label=a arrowhead=dot arrowsize=0.5 color=&quot;#1f9929cc&quot; fontcolor=&quot;#00730aff&quot; fontname=&quot;Times-Roman bold&quot;]
	value__node_7f6c1a4afaf0__b [label=&quot;array([[5, 6],
       [7, 8]])&quot; color=&quot;#3eb24800&quot; fillcolor=&quot;#73ff7e99&quot; fontcolor=&quot;#003304ff&quot; fontname=&quot;Times-Roman&quot; penwidth=1.5 shape=box style=filled]
	node_7f6c1a4afaf0 -&gt; value__node_7f6c1a4afaf0__b [label=b arrowhead=dot arrowsize=0.5 color=&quot;#1f9929cc&quot; fontcolor=&quot;#00730aff&quot; fontname=&quot;Times-Roman bold&quot;]
	node_7f6c1a3166d0 [label=&quot;t.x&quot; color=&quot;#3eb24899&quot; fillcolor=&quot;#73ff7e99&quot; fontcolor=&quot;#003304ff&quot; fontname=&quot;Times-Roman bold&quot; penwidth=1.5 shape=ellipse style=filled]
	node_7f6c1a4afaf0 -&gt; node_7f6c1a3166d0 [label=x arrowhead=vee arrowsize=1.0 color=&quot;#1f9929cc&quot; fontcolor=&quot;#00730aff&quot; fontname=&quot;Times-Roman bold&quot;]
	node_7f6c19c03700 -&gt; node_7f6c1a3166d0 [label=ppp arrowhead=vee arrowsize=1.0 color=&quot;#3d1f99cc&quot; fontcolor=&quot;#1d0073ff&quot; fontname=&quot;Times-Roman bold&quot;]
	node_7f6c19c03790 [label=&quot;t2.x&quot; color=&quot;#5b3eb299&quot; fillcolor=&quot;#9673ff99&quot; fontcolor=&quot;#0d0033ff&quot; fontname=&quot;Times-Roman bold&quot; penwidth=1.5 shape=ellipse style=filled]
	node_7f6c19c03700 -&gt; node_7f6c19c03790 [label=x arrowhead=vee arrowsize=1.0 color=&quot;#3d1f99cc&quot; fontcolor=&quot;#1d0073ff&quot; fontname=&quot;Times-Roman bold&quot;]
	value__node_7f6c1a3166d0__c [label=3 color=&quot;#3eb24800&quot; fillcolor=&quot;#73ff7e99&quot; fontcolor=&quot;#003304ff&quot; fontname=&quot;Times-Roman&quot; penwidth=1.5 shape=box style=filled]
	node_7f6c1a3166d0 -&gt; value__node_7f6c1a3166d0__c [label=c arrowhead=dot arrowsize=0.5 color=&quot;#1f9929cc&quot; fontcolor=&quot;#00730aff&quot; fontname=&quot;Times-Roman bold&quot;]
	value__node_7f6c1a3166d0__d [label=4 color=&quot;#3eb24800&quot; fillcolor=&quot;#73ff7e99&quot; fontcolor=&quot;#003304ff&quot; fontname=&quot;Times-Roman&quot; penwidth=1.5 shape=box style=filled]
	node_7f6c1a3166d0 -&gt; value__node_7f6c1a3166d0__d [label=d arrowhead=dot arrowsize=0.5 color=&quot;#1f9929cc&quot; fontcolor=&quot;#00730aff&quot; fontname=&quot;Times-Roman bold&quot;]
	value__node_7f6c1a3166d0__e [label=&quot;array([[1, 2],
       [3, 4]])&quot; color=&quot;#3eb24800&quot; fillcolor=&quot;#73ff7e99&quot; fontcolor=&quot;#003304ff&quot; fontname=&quot;Times-Roman&quot; penwidth=1.5 shape=box style=filled]
	node_7f6c1a3166d0 -&gt; value__node_7f6c1a3166d0__e [label=e arrowhead=dot arrowsize=0.5 color=&quot;#1f9929cc&quot; fontcolor=&quot;#00730aff&quot; fontname=&quot;Times-Roman bold&quot;]
	node_7f6c19c03790 -&gt; node_7f6c1a4afaf0 [label=t arrowhead=vee arrowsize=1.0 color=&quot;#3d1f99cc&quot; fontcolor=&quot;#1d0073ff&quot; fontname=&quot;Times-Roman bold&quot;]
	node_7f6c19c03790 -&gt; node_7f6c1a3166d0 [label=y arrowhead=vee arrowsize=1.0 color=&quot;#3d1f99cc&quot; fontcolor=&quot;#1d0073ff&quot; fontname=&quot;Times-Roman bold&quot;]
}
</pre></div></td></tr></table></div>
</div>
<p>The graph should be</p>
<img alt="../../_images/graphics.dat.gv.svg" class="align-center" src="../../_images/graphics.dat.gv.svg" /><p>Also, <code class="docutils literal notranslate"><span class="pre">graphics</span></code> function can support value duplication. For if the value nodes are using the same object, they will be displayed in the same node of the generated graph, such as the source code
below</p>
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">treevalue</span> <span class="kn">import</span> <span class="n">FastTreeValue</span><span class="p">,</span> <span class="n">graphics</span>


<span class="k">class</span> <span class="nc">MyFastTreeValue</span><span class="p">(</span><span class="n">FastTreeValue</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">MyFastTreeValue</span><span class="p">({</span>
        <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]),</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]),</span>
            <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">},</span>
            <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
        <span class="p">},</span>
    <span class="p">})</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">MyFastTreeValue</span><span class="p">({</span>
        <span class="s1">&#39;aa&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">a</span><span class="p">,</span>
        <span class="s1">&#39;bb&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]),</span>
        <span class="s1">&#39;xx&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;cc&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">c</span><span class="p">,</span>
            <span class="s1">&#39;dd&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">d</span><span class="p">,</span>
            <span class="s1">&#39;ee&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
        <span class="p">},</span>
    <span class="p">})</span>

    <span class="n">g</span> <span class="o">=</span> <span class="n">graphics</span><span class="p">(</span>
        <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="s1">&#39;t1&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">MyFastTreeValue</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">t1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="n">t1</span><span class="o">.</span><span class="n">xx</span><span class="p">}),</span> <span class="s1">&#39;t2&#39;</span><span class="p">),</span>
        <span class="c1"># Here is the dup value, with several types</span>
        <span class="c1"># np.ndarray and list type will use the same value node,</span>
        <span class="c1"># but set type is not in this tuple, so will not share the same node.</span>
        <span class="n">dup_value</span><span class="o">=</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a demo of 2 trees with dup value.&quot;</span><span class="p">,</span>
        <span class="n">cfg</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bgcolor&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffffff00&#39;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;graphics_dup_value.dat.gv&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
</pre></div></td></tr></table></div>
</div>
<p>The graph of the case with <code class="docutils literal notranslate"><span class="pre">dup_value</span></code> should be</p>
<img alt="../../_images/graphics_dup_value.dat.gv.svg" class="align-center" src="../../_images/graphics_dup_value.dat.gv.svg" /><p>The return value’s type of function <code class="docutils literal notranslate"><span class="pre">graphics</span></code> is class <code class="docutils literal notranslate"><span class="pre">graphviz.dot.Digraph</span></code>, from the opensource library <code class="docutils literal notranslate"><span class="pre">graphviz</span></code>, for further information of this project and <code class="docutils literal notranslate"><span class="pre">graphviz.dot.Digraph</span></code>’s usage, take a look at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://graphviz.org/">Official site of Graphviz</a>.</p></li>
<li><p><a class="reference external" href="https://graphviz.readthedocs.io/en/stable/manual.html#formats">User Guide of Graphviz</a>.</p></li>
<li><p><a class="reference external" href="https://graphviz.readthedocs.io/en/stable/api.html">API Reference of Graphviz</a>.</p></li>
</ul>
</section>
<section id="dump">
<span id="apidoc-tree-tree-dump"></span><h2>dump<a class="headerlink" href="#dump" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.dump">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="p">:</span> <span class="n">_TreeType</span></em>, <em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/treevalue/tree/tree/io.html#dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#treevalue.tree.tree.dump" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Dump tree value to file.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>t (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeType</span></code>): Tree value object.</p></li>
<li><p>file: Target dump file.</p></li>
<li><p>compress: Compress object, may be compression function,             tuple of functions or module (<code class="docutils literal notranslate"><span class="pre">compress</span></code> and <code class="docutils literal notranslate"><span class="pre">decompress</span></code> required).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="dumps">
<span id="apidoc-tree-tree-dumps"></span><h2>dumps<a class="headerlink" href="#dumps" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.dumps">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">dumps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="p">:</span> <span class="n">_TreeType</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="../../_modules/treevalue/tree/tree/io.html#dumps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#treevalue.tree.tree.dumps" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Dump tree value to file.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>t (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeType</span></code>): Tree value object.</p></li>
<li><p>compress: Compress object, may be compression function,             tuple of functions or module (<code class="docutils literal notranslate"><span class="pre">compress</span></code> and <code class="docutils literal notranslate"><span class="pre">decompress</span></code> required).</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>data (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code>): Dumped binary data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="load">
<span id="apidoc-tree-tree-load"></span><h2>load<a class="headerlink" href="#load" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.load">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">type_: Type[_TreeType] = &lt;class 'treevalue.tree.tree.tree.TreeValue'&gt;</em>, <em class="sig-param">decompress: Optional[Callable] = None</em><span class="sig-paren">)</span> &#x2192; _TreeType<a class="reference internal" href="../../_modules/treevalue/tree/tree/io.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#treevalue.tree.tree.load" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Load tree value object from file.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>file: Original file.</p></li>
<li><p>type_ (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Type[_TreeType]</span></code>): Type of tree value, default is <code class="docutils literal notranslate"><span class="pre">TreeValue</span></code>.</p></li>
<li><p>decompress (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[Callable]</span></code>): Decompress function, default is <code class="docutils literal notranslate"><span class="pre">None</span></code> which means             do not do any decompression.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeType</span></code>): Tree value object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="loads">
<span id="apidoc-tree-tree-loads"></span><h2>loads<a class="headerlink" href="#loads" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="treevalue.tree.tree.loads">
<code class="sig-prename descclassname">treevalue.tree.tree.</code><code class="sig-name descname">loads</code><span class="sig-paren">(</span><em class="sig-param">data: Union[bytes, bytearray], type_: Optional[Type[_TreeType]] = &lt;class 'treevalue.tree.tree.tree.TreeValue'&gt;, decompress: Optional[Callable] = None</em><span class="sig-paren">)</span> &#x2192; _TreeType<a class="reference internal" href="../../_modules/treevalue/tree/tree/io.html#loads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#treevalue.tree.tree.loads" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Overview:</dt><dd><p>Load tree value object from file.</p>
</dd>
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>data (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Union[bytes,</span> <span class="pre">bytearray]</span></code>): Binary data.</p></li>
<li><p>type_ (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Type[_TreeType]</span></code>): Type of tree value, default is <code class="docutils literal notranslate"><span class="pre">TreeValue</span></code>.</p></li>
<li><p>decompress (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional[Callable]</span></code>): Decompress function, default is <code class="docutils literal notranslate"><span class="pre">None</span></code> which means             do not do any decompression.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>tree (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_TreeType</span></code>): Tree value object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>



           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="func.html" class="btn btn-neutral float-right" title="treevalue.tree.func" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common.html" class="btn btn-neutral float-left" title="treevalue.tree.common" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, HansBug, DI-engine&#39;s Contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: refactor/color
    <span class="fa fa-caret-down"></span>
  </span>
        <div class="rst-other-versions">
                <dl>
                    <dt>Tags</dt>
                        <dd><a href="../../../../v0.0.1/api_doc/tree/tree.html">v0.0.1</a></dd>
                        <dd><a href="../../../../v0.1.0/api_doc/tree/tree.html">v0.1.0</a></dd>
                        <dd><a href="../../../../v1.0.0/api_doc/tree/tree.html">v1.0.0</a></dd>
                        <dd><a href="../../../../v1.1.0/api_doc/tree/tree.html">v1.1.0</a></dd>
                        <dd><a href="../../../../v1.2.0/api_doc/tree/tree.html">v1.2.0</a></dd>
                        <dd><a href="../../../../v1.2.1/api_doc/tree/tree.html">v1.2.1</a></dd>
                        <dd><a href="../../../../v1.2.2/api_doc/tree/tree.html">v1.2.2</a></dd>
                        <dd><a href="../../../../v1.3.0/api_doc/tree/tree.html">v1.3.0</a></dd>
                        <dd><a href="../../../../v1.3.1/api_doc/tree/tree.html">v1.3.1</a></dd>
                </dl>
                <dl>
                    <dt>Branches</dt>
                        <dd><a href="../../../../dev/mutablemapping/api_doc/tree/tree.html">dev/mutablemapping</a></dd>
                        <dd><a href="../../../../main/api_doc/tree/tree.html">main</a></dd>
                        <dd><a href="tree.html">refactor/color</a></dd>
                        <dd><a href="../../../../run/paper/api_doc/tree/tree.html">run/paper</a></dd>
                </dl>
        </div>
    </div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>